<h1>Race Details</h1>

<p>
  <strong>Name:</strong>
  <%= @race.name %>
</p>

<% if @race.race_participants.any? %>
  <h2>Participants</h2>
  <table>
    <thead>
      <tr>
        <th>Student</th>
        <th>Lane</th>
        <th>Place</th>
      </tr>
    </thead>
    <tbody>
      <!-- Order by lane or place as you prefer -->
      <% @race.race_participants.order(:lane).each do |participant| %>
        <tr>
          <!-- Show the student name, if present -->
          <td><%= participant.student&.name %></td>
          <td><%= participant.lane %></td>
          <td><%= participant.place %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>No participants have been assigned yet.</p>
<% end %>

<div class="show_actions">
  <%= link_to edit_race_path(@race), title: "Edit Race", aria_label: "Edit Race" do %>
    <i class="fa-solid fa-pen-to-square"></i>
  <% end %>

  <%= link_to @race, data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, title: "Delete Race", aria_label: "Delete Race" do %>
    <i class="fa-solid fa-trash-can"></i>
  <% end %>

  <%= link_to races_path , title: "Back to Races", aria_label: "Back to Races" do %>
    <i class="fa-solid fa-arrow-left"></i>
  <% end %>
</div>
